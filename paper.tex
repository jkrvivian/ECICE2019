\documentclass[journal,a4paper]{IEEEtran}

% to typeset URLs, URIs, and DOIs
\usepackage[english]{babel}
\usepackage{url}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{url,hyperref,graphicx,float,times}
\usepackage{textcomp}
\usepackage{cite}
\usepackage[caption=false,font=footnotesize]{subfig}


\begin{document}
%
\title{Decentralized Data Marketplace to Enable Trusted Machine Economy}
%
\author{
%%% Fill in name here
\IEEEauthorblockN{Ching-Chun (Jim) Huang\IEEEauthorrefmark{1}, Ching-Hua Lin\IEEEauthorrefmark{2}} \\

%%% Fill in school here
\IEEEauthorblockA{\IEEEauthorrefmark{1}\IEEEauthorrefmark{2}Department of Computer Science and Information Engineering National Cheng Kung University} \\

%%% Fill in address here
\IEEEauthorblockA{\IEEEauthorrefmark{1}\IEEEauthorrefmark{2}No.1, University Road} \\

%%% Fill in city and country here
\IEEEauthorblockA{\IEEEauthorrefmark{1}\IEEEauthorrefmark{2}Tainan City, Taiwan (R.O.C.)} \\

%%% Fill in email here
\IEEEauthorblockA{\IEEEauthorrefmark{1}jserv.tw@gmail.com, \IEEEauthorrefmark{2}jkrvivian@gmail.com}
}


%


\maketitle              
% 50-80 words
\begin{abstract}
abstract here
\end{abstract}

% 3 - 4 keywords
\begin{IEEEkeywords}
streaming data, crowd sensing, data marketplace, decentralization
\end{IEEEkeywords}

\section{Introduction}

\section{Related Work}
The increasing IoT devices brings a huge amount of data, the economic value becomes essential for parties intended to sell, buy and find data. The need for IoT data marketplace arises due to this. Recent years, several researchers has started to explore based on this concept. There are some critical issues need to be resolved in the design of data marketplace platform, in this paper, we focus on two issues, data integrity and the trading behavior.

To ensure data integrity for IoT applications is always a challenge because of the unstandardize data format and dynamic nature. Moreover, the Third Party Auditors (TPAs)-based frameworks is far from being satisfactory. Therefore a decentralized data integrity validation has been proposed recent years, and blockchain is considered a solution. 

Data Integrity as a Service (DIaas) is a blockchain based framework for data integrity proposed by Bin Liu\cite{DIaas}. DIaas is a Cloud Server Service (CSS) for IoT dynamic data that allows both data owner and data consumer to validate data integrity by comparing hashes on smart contract  and on Cloud Server. Besides, smart contract can also realize the purchase agreement, including authorizing data consumer for specific data set and even the penalty for data provider if they fail to provide the data integrity. However, the performance analysis shows that IoT devices still have low efficiency interacting with Etheruem, this may fall to the Proof-of-Work (PoW) process is time-consuming for an IoT device and the blockchain consensus can not be reached within a short time, while Ethereum is expected to enable consensus within 12-second but the time is still longer when the authors wrote the paper. 

By solving the inefficiencies of the Blockchain, \textbf{IOTA}\cite{IOTAwhitepaper} is a cryptocurrency for the IoT industry or Web 3.0 based on the revolutionary distributed ledger technology, the \textbf{Tangle}. It is a secure, scalable and feeless transaction settlement layer which enables micropayments transaction. On top of that, \textbf{Masked Authenticated Messaging(MAM)}\cite{MAM}, a second layer data communication protocol which adds functionality to emit and access an encrypted data stream over the Tangle where privacy and integrity meet is introduced to public. On the basis of the Tangle and MAM, IOTA foundation proposed a fully decentralized Data MarketPlace which is suitable for IoT streaming data that not only allow data owners and consumers to trade on Tangle but also protect privacy and assure data integrity from source with MAM. But only the data buyout doesn't meet the need of the real world, such as data subscription and a specific time period of data maybe needed for different uses. Moreover, even though IOTA needs less computing power than other blockchain system, doing PoW and unstable network environment are still the bottleneck for low-level devices, it may take 2 or more minutes to issue a transaction to Tangle under MAM protocol.

A different framework design proposed by Pooja Gupta, Salil S.Kanhere and Raja Jurdak\cite{3tierDataMarket} could solve the efficiency problem as mentioned. The infrastructure is a 3-tier decentralized data marketplace architectural design with smart contract which consists of provider, consumer and broker. Where broker is a highly resourced and trustless device that will facilitate the trading of data between the consumer and providers. However, there are some potential threats need to be resolved, such as payment fairness, authentication of the participants, faithful delivery of data and probable malicious behaviour of data marketplace participants.  

Our proposed data marketplace framework is a 3-tier decentralized and trustless architecture that put data stream and trading process on distrubted ledgers. In our infrastructure, the identity of each participants could be easily verified with a self-soverign identity system, also we design the refunding mechanism to protect the payment fairness. Moreover, with MAM as our data storage on IOTA, data could be delivered securely and faithfully without any third-parties.


\section{System Architecture}
\subsection{Participants}
There are four major roles in the decentralized data marketplace.

\subsubsection{Registrar}
Registrar is responsible for creating a Registration Contract, which maintains a lookup table of participants, and adding new data providers, consumers and brokers to the decentralized data marketplace.

\subsubsection{Data Provider}
Data providers, who generate and preserve IoT data, are willing to sell sensing data to consumers. They decide the subscription period, subscription price, data type, sampling frequency. Afterward, they can launch the product on the decentralized data marketplace. Next, they collect raw data with their sensors and send to the broker who assists in uploading data to the network. An MAM channel\cite{MAM} is used to store encrypted data stream.

\subsubsection{Consumer}
Consumers aspire to obtain IoT data to promote the value of their service. However, it is a big challenge for most consumers to collect the desired data by themselves. So they look forward to purchasing the IoT data from data providers.

\subsubsection{Broker}
Brokers represent data providers and consumers to do computing tasks in the DLT (Distributed Ledger Technology) since brokers are expected to have high computing power. Once a data provider wants to launch a new product, the data provider requests a broker to create a new MAM channel, a new Product Contract, which specifies details about products, and upload this product to the IPFS (InterPlanetary File System)\cite{IPFS}. Also the broker certifies the session key which is used for symmetric encryption for streaming data encryption and decryption. Then the broker provides the matching service for data provider’s products and consumer’s queries. After that, the broker is requested to deal with the trading process and upload the provider’s data streams to the MAM channel.

\subsection{Component}
\subsubsection{IOTA}
IOTA\cite{IOTAwhitepaper} is a cryptocurrency which the ledger does not consist of transactions grouped into blocks and stored in sequential chains, but a directed acyclic graph(DAG) of individual transactions, \textbf{Tangle}. To issue a transaction in the network, one needs to perform a small amount of Proof-of-Work (PoW) that verifies two previous transactions. Since every actor in Tangle has the same role, there is no need to offer transaction fees. Therefore, it is possible to make \textbf{micropayments} which the importance will increase in the rapidly developing IoT industry, and \textbf{zero-transactions} that one could store information securely within Tangle transactions. Moreover, this structure also enables high scalability of transactions that could resolve the drawbacks of blockchain and the concern of rapid growth of IoT devices.

\subsubsection{smart contract}
Smart contract\cite{smartContract} is a protocol for formulating agreement on blockchain that provides verification and execution of the contract. The code in the smart contract could interact with other contracts, make decisions, store data and transfer cryptocurrency. All conditions and states established in the contract are transparent and with enforcement. The appearance of smart contracts makes trading more flexible, and achieves more complex trading patterns in reality.

\subsubsection{IPFS}

\subsubsection{Masked Authenticated Messaging}
MAM\cite{MAM} is one of the best features of IOTA, it is a second layer data communication protocol enables to emit and access an encrypted data stream over Tangle network. The consensus algorithm of IOTA ensures data integrity. These properties allow MAM to meet the requirements of both data integrity and privacy.

IOTA only allows one message per transaction and couldn't publish continuous related messages because it is easy for an attacker to issue spam transactions if the same address is used. However, MAM publishes each message to a different addresses, and each can be derived from the previous one, this mechanism protects the channel from spamming and allows us to have access to all information with channel root only. Furthermore, MAM can be used in 3 ways to control visibility and access which are public, restricted and private. In our system, restricted MAM channel is used to achieve data authoriazation between providers and consumers.

\subsubsection{TangleID}

\subsubsection{blind signature}


\section{Trading Model}

\section{Conclusion}



  





% ---- Bibliography ----
\bibliographystyle{IEEEtran}
\bibliography{references}


\end{document}
